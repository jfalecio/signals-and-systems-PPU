\begin{tikzpicture}
	
	%#####################################################################
	%### Top Plot: Time-Domain View (Amplitude Scaling & Phase Shift)
	%#####################################################################
	\begin{scope}[yshift=7cm]
		\begin{axis}[
			width=7cm, height=5cm,
			title={\textbf{Time-Domain View}: Output is Scaled and Phase-Shifted},
			xlabel={$t$},
			axis lines=middle,
			xmin=0, xmax=2.5, ymin=-1.2, ymax=1.2,
			xtick={0, 0.5, 1, 1.5, 2, 2.5},
			ytick={-1, -0.7, 0.7, 1},
			yticklabels={$-1$, $-|H(j\omega_0)|$, $|H(j\omega_0)|$, $1$},
			grid=major,
			grid style={line width=.1pt, draw=gray!30},
			legend style={at={(1.02,1)}, anchor=north west},
			no marks,
			]
			% Input Signal --- FIX: Increased samples for a smoother curve ---
			\addplot[blue, thick, domain=0:2.5, samples=101] {cos(deg(2*pi*x))};
			\addlegendentry{Input: $\text{Re}\{e^{j\omega_0 t}\}$};
			
			% Output Signal --- FIX: Increased samples for a smoother curve ---
			\addplot[red, thick, domain=0:2.5, samples=101] {0.7*cos(deg(2*pi*x) + 45)};
			\addlegendentry{Output: $\text{Re}\{H(j\omega_0)e^{j\omega_0 t}\}$};
			
		\end{axis}
	\end{scope}
	
	%#####################################################################
	%### Bottom Plot: Phasor View (Scaling & Rotation)
	%#####################################################################
	\begin{scope}[yshift=0cm]
		\begin{axis}[
			width=7cm, height=7cm,
			title={\textbf{Phasor View}: $H(j\omega_0)$ Scales and Rotates the Phasor},
			xlabel={$\text{Re}$}, ylabel={$\text{Im}$},
			axis equal image,
			axis lines=middle,
			xmin=-1.2, xmax=1.2, ymin=-1.2, ymax=1.2,
			xtick={-1, 1}, ytick={-1, 1},
			grid=major,
			grid style={line width=.1pt, draw=gray!30},
			]
			% Paths for input and output circles
			\addplot[blue, dashed, domain=0:360, samples=361, no marks] ({cos(x)}, {sin(x)});
			\addplot[red, dashed, domain=0:360, samples=361, no marks] ({0.7*cos(x)}, {0.7*sin(x)});
			
			% Define angle for a snapshot in time
			\pgfmathsetmacro{\wT}{30} % omega*t = 30 degrees
			
			% Coordinates
			\coordinate (O) at (axis cs:0,0);
			\coordinate (P_in) at (axis cs:{cos(\wT)}, {sin(\wT)});
			\coordinate (P_out) at (axis cs:{0.7*cos(\wT+45)}, {0.7*sin(\wT+45)});
			
			% Draw the phasors
			\draw[-{Stealth[blue]}, blue, very thick] (O) -- (P_in) node[pos=1.1, black] {$e^{j\omega_0 t}$};
			\draw[-{Stealth[red]}, red, very thick] (O) -- (P_out) node[pos=1.2, black] {$H(j\omega_0)e^{j\omega_0 t}$};
			
			% Angle omega*t
			\draw[->] (axis cs:0.5,0) arc[start angle=0, end angle=\wT, radius=0.5];
			\node at (axis cs:{0.6*cos(\wT/2)}, {0.6*sin(\wT/2)}) [font=\small] {$\omega_0 t$};
			
			% Angle phi
			\draw[->, red] (axis cs:{0.6*cos(\wT)}, {0.6*sin(\wT)}) arc[start angle=\wT, end angle={\wT+45}, radius=0.6];
			\node at (axis cs:{0.75*cos(\wT+22.5)}, {0.75*sin(\wT+22.5)}) [font=\small, red] {$\phi$};
			
		\end{axis}
	\end{scope}
	
	% Add an overall annotation
	\node[text width=5cm, align=center, anchor=east] at (-0.5, 3.5)
	 {$H(j\omega_0) = |H(j\omega_0)| e^{j\phi}$ \\ In this example: \\ $|H(j\omega_0)| = 0.7$ \\ $\phi = \pi/4$};
	
\end{tikzpicture}