\begin{tikzpicture}
	% Define a common style for all axes for consistency.
	\pgfplotsset{
		myaxes/.style={
			axis lines=middle, enlargelimits=true, clip=false,
			xlabel style={at={(axis description cs:0.5,0)}, anchor=north},
			ylabel style={at={(axis description cs:0,0.5)}, anchor=south, rotate=-90},
			tick style={color=black},
			xtick={-2,-1,0,1,2},
			ytick={0,0.5,1},
			ymin=-0.2, ymax=1.2,
		},
		% Define safe sinc
		/pgf/declare function={
			sinc(\x) = (\x==0) ? 1 : sin(deg(\x))/\x;
		}
	}
	
	\begin{groupplot}[
		group style={
			group size=2 by 2,
			horizontal sep=2cm,
			vertical sep=2.5cm,
			group name=convoplots
		},
		myaxes,
		width=6.5cm,
		height=4.5cm,
		domain=-2.5:2.5,
		samples=201
		]
		
		% --- PLOT 1: Input Signal ---
		\nextgroupplot[title={Input Signal $x(t)$}, ylabel={$x(t)$}]
		\addplot[blue, ultra thick] coordinates {
			(-2.5,0) (-0.5,0) (-0.5,1) (0.5,1) (0.5,0) (2.5,0)
		};
		\node[align=center,fill=white, inner sep=2pt] at (axis cs:2.2,0.9) {$x(t)=\text{rect}(t)$};
		
		% --- PLOT 2: Impulse Response ---
		\nextgroupplot[title={Impulse Response $h(t)$}, ylabel={$h(t)$}]
		\addplot[red, ultra thick] coordinates {
			(-2.5,0) (-1,0) (0,1) (1,0) (2.5,0)
		};
		\node[align=center,fill=white, inner sep=2pt] at (axis cs:1.6,1) {$h(t)=\text{tri}(t)$};
		
		% --- PLOT 3: Convolution Result ---
		\nextgroupplot[
		title={Output: $y(t)=x(t)*h(t)$},
		xlabel={$t$}, ylabel={$y(t)$}, ymax=1.0
		]
		% Piecewise quadratic definition of y(t):
		% y(t) = 0                       for |t| > 1.5
		% y(t) = (t+1.5)^2/2             for -1.5 <= t < -0.5
		% y(t) = 0.75 - t^2/2            for -0.5 <= t < 0.5
		% y(t) = (1.5 - t)^2/2           for 0.5 <= t <= 1.5
		\addplot[green!60!black, ultra thick, domain=-1.5:-0.5] {0.5*(x+1.5)^2};
		\addplot[green!60!black, ultra thick, domain=-0.5:0.5] {0.75 - x^2};
		\addplot[green!60!black, ultra thick, domain=0.5:1.5] {0.5*(1.5 - x)^2};
		\addplot[green!60!black, ultra thick] coordinates {(-2,0) (-1.5,0)};
		\addplot[green!60!black, ultra thick] coordinates {(1.5,0) (2,0)};
	\node[align=center] at (axis cs:2,0.9) {Piecewise quadratic\\shape};
		
		% --- PLOT 4: Multiplication in Frequency Domain ---
		\nextgroupplot[
		title={Spectra Product: $|Y(j\omega)| = |X(j\omega)H(j\omega)|$},
		xlabel={$\omega$}, ylabel={$|Y(j\omega)|$},
		domain=-15:15,
		ytick={0, 0.5, 1},
		xtick={-12.56, -6.28, 0, 6.28, 12.56},
		xticklabels={$-4\pi$, $-2\pi$, $0$, $2\pi$, $4\pi$}
		]
		% Product = sinc^3(Ï‰/2)
		\addplot[purple, ultra thick, smooth] {abs(sinc(x/2)^3)};
		\node[fill=white, inner sep=1pt] at (axis cs:10,1.1)
		{$\propto |\text{sinc}^3(\omega/2)|$};
		
	\end{groupplot}
	
	
\end{tikzpicture}
